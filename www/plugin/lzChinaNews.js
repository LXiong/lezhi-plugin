(function(){function p(j){return o.getElementById(j)}function y(j,a){var c={};typeof a=="string"&&(a=a.split(","));for(var b=0;b<j.length;b++)c[j[b]]=1;for(b=0;b<a.length;b++)c[a[b]]&&(c[a[b]]=0);var b=[],h;for(h in c)c[h]==0&&b.push(h);return a.toString()==b.toString()?!0:!1}function z(a,e){return a.className&&y(a.className.split(" "),e)}function v(a,e,c,b,h){var f=o.createElement(a);if(a==="a")f.href="javascript:;",f.target="_blank";if(e)f.id=e;if(c)f.className=c;if(b)f.style.cssText=b;if(h)f.innerHTML=
h;return f}function J(a,e,c){for(var a=a.getElementsByTagName(e),b=[],e=0;e<a.length;e++)z(a[e],c)&&b.push(a[e]);return b}function E(j){F(C+"/showup?"+["uuid="+a.uuid,"url="+a.url,"ref="+j,"type="+a.type,"pic="+a.pic].join("&"))}function D(a,e){var c,b;for(c in a)b=e[c],typeof b==="undefined"||/(pic|debug|highlight|showLogo)$/.test(c)&&typeof b!=="boolean"||/(col|row|picSize|fontSize)$/.test(c)&&(typeof b!=="number"||b<0)||c==="type"&&!y(O,b)||c==="source"&&!y(K,b)||c==="position"&&!y(P,b)||(b===
""&&/(defaultPic|title|url|hash|htcolor|rtcolor|bdcolor|hvcolor)/.test(c)&&(b=null),b!==null&&(c==="promote"&&(b=decodeURIComponent(b).substring(0,8)),a[c]=b));c=a.col;b=a.row;maxCounts=c*b>10?10:c*b;return a}function Q(j){var e=a.type,c,b="b-"+e,h=p("bShareRecommDiv2"),f=!1;e==="slide"&&(c=v("div","recommSlideTag","recommSlideTag","","<div>&gt;&gt;</div>\u4e50\u77e5\u63a8\u8350"),h.insertBefore(c,h.childNodes[0]));if(!z(j,b)){j.className=b;var k,l,n,d,g,i,m;if(e==="slide")k=a.position,j.className="b-"+e+" b-"+k,e=-1*
h.offsetWidth,k==="left"?(h.style.left=e+"px",j.style.left="0px"):(h.style.right=e+"px",j.style.right="0px"),l=!0,m=!1,n=e,g=function(){l===!0&&m===!1&&(L>0?E("insite"):M>0&&E("trending"),m=!0);var a=l?0:-1*j.offsetWidth;j.style.zIndex=l?"2147483584":"-1";if(n===a)l||G(l);else{n=l?n+40:n-40;if(l&&n>a||!l&&n<a)n=a;k==="left"?h.style.left=n+"px":h.style.right=n+"px";setTimeout(g,1)}},e=q.innerHeight?q.innerHeight:x.clientHeight||s.clientHeight,c=x.scrollHeight||s.scrollHeight,i=c-e,R(function(){d=v("div",
"bShareRecommTag","bShareRecommTag");p("bShareRecommTag")||x.appendChild(d);q.onscroll=function(){var a=s.scrollTop||x.scrollTop,b=p("recommSlideTag");p("bShareRecommTag");a==0&&(f=!1);if(!f)(l=i/2<=a&&a!==0)&&G(l),g(),b.style.display=l?"block":"none"};p("bShareRecommTag").onclick=function(){var a=p("recommSlideTag");f=l=!0;G();g();this.style.display="none";if(a)a.style.display="block"};p("recommSlideTag").onclick=function(){l=!1;f=!0;g();this.style.display="none"}})}}function G(a){p("bShareRecommTag").style.display=
a?"none":"block"}function F(a){var e=v("script");e.type="text/javascript";e.charset="utf-8";e.src=a;o.getElementsByTagName("head")[0].appendChild(e)}function R(a){if(o.addEventListener)a();else if(o.attachEvent){o.attachEvent("onreadystatechange",function(){o.readyState==="complete"&&(o.detachEvent("onreadystatechange",arguments.callee),a.call())});q.attachEvent("onload",a);var e=!1;try{e=q.frameElement===null}catch(c){}s.doScroll&&e&&function(){try{s.doScroll("left")}catch(b){setTimeout(arguments.callee,
10);return}a.call()}()}else q.onload=a}function S(){function a(b,c){if(b/c>2.5)return 0;var d=0;b>=400&&c>=300?d=12E4:(d=b*c,d>12E4&&(d=12E4));return d}function e(a,b){if(b>1500)return 0;var c=0;try{c=Math.abs((f/2-a)*(1500-b)/(f/2*1500))}catch(d){}return c}for(var c=document.images,b=0,h=null,f=document.body.scrollWidth,k="",l=0,n=c.length;l<n;l++){for(var d=c[l],g=d.offsetLeft,i=d.offsetTop,m=d.offsetParent;m!=null&&m.toString()!="[object HTMLBodyElement]";)g+=m.offsetLeft,i+=m.offsetTop,m=m.offsetParent;
g=Math.abs(g);i=Math.abs(i);k+=d.src+"=>"+d.width+"*"+d.height+" "+g+","+i+"\n";if(d.width>=200&&d.height>=150&&g>30&&g<f/2&&i>30){m=1;if(d.src.indexOf(".gif",d.src.length-4)!==-1||d.src.indexOf(".ico",d.src.length-4)!==-1)m=0.4;g=e(g,i)*a(d.width,d.height)*m;g>b&&(b=g,h=d)}}return h?h.src:""}var q=window,o=q.document,x=o.body,s=o.documentElement,r=encodeURIComponent,C="http://lzplugin.bshare.cn/plugin",T=C+"/feeds?callback=window.lezhi.callback",U=C+"/correct?",O=["fixed","slide"],P=["left","right"],
K=["personalized"],V={personalized:"\u731c\u4f60\u559c\u6b22"},N={},a={},L=0,M=0,H=0,A="",I=o.referrer,B=0;q.bshare_recomm_config=q.bshare_recomm_config||{};lz=q.lezhi={lezhi_ok:!0,init:function(){A="";N={uuid:"",promote:"\u70ed\u70b9\u63a8\u8350",col:1,row:8,pic:!1,type:"fixed",picSize:120,fontSize:12,sitePrefix:"",defaultPic:"http://lzstatic.bshare.cn/plugin/img/default.gif",position:"right",source:"insite,personalized",url:r(o.location.href),title:o.title,hash:decodeURIComponent(q.location.hash.substring(1)),htcolor:"#333",rtcolor:"#333",
bdcolor:"#DADADA",hvcolor:"#FBFBEF",highlight:!1,redirectMode:"js",showLogo:!0,brand:"",debug:!1,mock:!1,thumbnail:"",customTitle:""};if(!I)try{if(window.opener)I=window.opener.location.href}catch(j){}var e=N,c;a:{var b=o.getElementsByTagName("script"),h=b.length,f,k;k=".js#";var l={};for(f=0;f<h;f++)if(/lzChinaNews(Org|Tmp)?\.js/.test(b[f].src)){c=b[f].src;break}if(c.indexOf(k)<2)if(c.indexOf(".js?")<2){c={};break a}else k=".js?";b=c.indexOf(k);c=c.substring(b+k.length).split("&");h=c.length;for(k=
0;k<h;k++){f=c[k].split("=");b=f[0];f=f[1];if(/(col|row|picSize|fontSize)$/.test(b))try{f=parseInt(f,10)}catch(n){f=null}else/(pic|debug|highlight)$/.test(b)&&(f=f==="true");l[b]=f}c=l}a=D(e,c);a=D(a,q.bshare_recomm_config);e="uuid="+a.uuid;c="url="+a.url;l="title="+r(a.title);k="sitePrefix="+r(a.sitePrefix);b="count="+maxCounts;h="type="+a.source;f="hash="+a.hash;var d;d=document.getElementsByTagName("META");for(var g="",i=d.length,m=0;m<i;m++)if(d[m].getAttribute("name")=="keywords"){g=d[m].getAttribute("content");
break}d=r(g);e=[e,c,l,k,b,h,f,"keywords="+d,"referrer="+I,"mock="+a.mock];a.customTitle!==""&&e.push("customTitle="+a.customTitle);a.thumbnail!==""&&e.push("thumbnail="+a.thumbnail);c=p("bShareRecommDiv");if(!p("bShareRecommDiv2"))var w=v("div","bShareRecommDiv2");c.appendChild(w);F(T+"&"+e.join("&"))},callback:function(j){var e=p("bShareRecommDiv"),c,b,h,f,k,l,n,d,g,i;d=S();j.thumbnail!==d&&d!==""&&a.thumbnail===""&&(d=["url="+a.url,"thumbnail="+r(d)],F(U+"&"+d.join("&")));j&&typeof j.config!=="undefined"&&
(a=D(a,j.config));a=D(a,q.bshare_recomm_config);d=a.col;row=a.row;g=a.pic;i=a.highlight;d*row>100&&(row=parseInt(100/d,10));B=H=0;for(c in j)if(y(K,c)&&(h=j[c],f=h.length,c=="insite"?L=f:M=f,f!==0)){B<f&&(B=f);k=v("div","","b-recomm-panel");k.sourceType=c;if(A==="")k.style.display="block",A=c;l='<ul class="b-recomm-list">';for(b=0;b<f&&(b<d*row||!g&&b<row);++b){var m=h[b],w=m.url,u=m.title,s=i&&m.mark==!0,x=m.ad==!0;n=lz.lezhi_ok?C+"/redirect?to="+r(w)+"&from="+a.url+"&sitePrefix="+r(a.sitePrefix)+
"&ref="+c+"&uuid="+r(a.uuid)+"&type="+r(a.type)+"&pic="+r(g)+"&title="+r(a.title):w;l+="<li";if(b===f-1||b===9||(b+1)%d===0)l+=' style="'+(b==0?"padding-left:0px !important;":"")+'"';l+=x?'><a href="'+w+'" target="_blank" title="'+u+'"':'><a href="'+w+'" style="'+(b<2?"height:165px;display:block;list-style:none !important;text-decoration:none !important;":" ")+'" onmousedown="this.href=\''+n+"';return true;\" onmouseup=\"t=this;setTimeout(function(){t.href='"+w+'\'},50);return true;" target="_blank" title="'+
u+'"';if(b<2){l+='" hidefocus="true">';if(!(n=m.pic))n=a.defaultPic;s&&(l+='<div class="hot-tag"></div>');l+='<img class="bshare-logos" src="'+n+'" style="width:'+a.picSize+"px !important;height:"+a.picSize+'px !important;padding:3px !important;float:left;margin-left:10px;display:line-block;*display:inline;*zoom:1;" /><div class="feed-title" title="'+u.replace(/&/g,"&amp").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'"';s&&(l+='style="color:red;"');l+=
">"+u+"</div>"}else s&&(l+='style="color:red;"'),u.length>24&&(u=u.substring(0,24)+"..."),l+=">"+u;l+="</a></li>"}l+="</ul>";k.innerHTML=l;b=k;p("bShareRecommDiv2").appendChild(b);if(a.type==="slide"&&!a.pic&&b.getElementsByTagName("li").length<=4)b.style.height="84px";H++}j=a.pic;c=a.picSize;d=a.position;g=a.fontSize;i=a.type;b=a.promote;h=a.htcolor;f=d=="left"?"right":"left";k="#bShareRecommDiv{font-size:12px;z-index:"+(i=="slide"?2147483584:99999999)+";overflow:hidden !important;margin:0 !important;padding:0 !important;}#bShareRecommDiv2{position:relative;margin:0 !important;padding:0 !important;}#bShareRecommDiv:after,#bShareRecommDiv2:after,.b-recomm-panel:after,.b-recomm-tab:after,.b-recomm-list:after{content:'.';display:block;height:0;clear:both;visibility:hidden;}.b-recomm-tab{background:url(http://i3.chinanews.com/club/2011sy/images/baner.gif) no-repeat -465px -188px;height:30px;list-style:none !important;padding:0 !important;margin:0 !important;position:relative;z-index:"+
(i=="slide"?2147483584:99999999)+";";k+=i=="slide"?d=="left"?"left:0px;":"left:25px;":"left:0px;";k+="}.b-recomm-tab li{width:auto;list-style:none !important;text-indent:0px !important;height:15px;position:relative;line-height:15px;float:left;cursor:pointer;margin:0 5px 0 0 !important;padding:5px 10px !important;text-align:center;position:relative;top:1px;z-index:100;font-size:"+g+"px;"+(h?"color:"+h:"")+"}.b-recomm-tab li.activated{font-weight:bold;cursor:default;letter-spacing:7px;color: white;font-size:14px;background:none !important;}.b-recomm-panel{display:none;margin:0 !important;padding:5px 0 0 0 !important;float:left;position:relative;";
k+=i=="slide"?d=="left"?"left:0px;":"left:25px;":"left:0px;";k+="background-color:#fff;clear:both;}.b-recomm-list{height:auto;";if(!j&&i==="slide"&&b.length>=B*a.row||j&&i==="slide"&&B===0)k+="height:68px;";k+="padding:0 4px !important;margin:0 !important;list-style:disc inside none;}.b-recomm-list li{height:24px;padding:0 !important;display:block;text-align:center ;text-indent:0px !important;margin:0px !important;background:none !important;"+(j?"width:"+(c+28)+"px;height:auto;border:1px solid #fff;cursor:pointer;border-right:1px solid #f2f2f2;list-style:none !important;float:left;margin:0px;":
"float:left;overflow:hidden;border:0;padding-left:10px !important;")+"}";k+=".b-recomm-list a{font-size:"+g+"px;margin:0 !important;position:relative;top:-2px9;text-decoration:none !important;display:"+(j?"block;height:auto;line-height:auto;overflow:visible;":"list-item;zoom:1;height:24px;line-height:24px;overflow:hidden;color:#57658d;")+";list-style:disc inside none !important;}.b-recomm-list a:hover{border-ratio:5px;text-decoration:underline !important;}.bShareRecommTag{margin:0;padding:0;background:url(http://lzstatic.bshare.cn/images/recommend.png) no-repeat;width:40px;height:40px;position:fixed;bottom:60px;*bottom:66px;";
k+=(d=="left"?"left:10px;right:auto;":"right:10px;left:auto;")+"z-index:2147483584;cursor:pointer;}";/MSIE 6/.test(navigator.userAgent)&&(k+="*html .bShareRecommTag{position:absolute;z-index:2147483584;bottom:auto;top:expression(eval(-70+document.documentElement.scrollTop+document.documentElement.clientHeight-this.offsetHeight-(parseInt(this.currentStyle.marginTop,10)||0)-(parseInt(this.currentStyle.marginBottom,10)||0)));}");k+=".b-recomm-list .feed-title{cursor:pointer;overflow:hidden;padding:0 !important;margin:5px 10px 10px 10px !important;line-height:16px;height:32px;font-size:14px;float:left;width:145px;color:#57658d;font-weight:bold;width:126px;display:line-block;*display:inline;*zoom:1;}";
j&&(k+=".b-recomm-list .hot-tag{padding:0 !important;margin:0 !important;position:absolute;right:10px;top:4px;width:59px;height:59px;background:url(http://lzstatic.bshare.cn/plugin/img/hot.png) no-repeat;z-index:1;}.b-recomm-list img{padding:3px !important;margin:0 !important;position:relative;top:4px;}");k+=".b-recomm-footer{overflow:hidden;float:right;margin:0 !important;position:relative;text-align:right;bottom:3px;right:3px;"+(j||a.col==2&&a.row>2||i=="fixed"?"width:100%;_bottom:0px;":"position:absolute;padding:0px;")+
"}.b-recomm-footer a{font-size:12px;color:#999;text-decoration:none;height:15px !important;line-height:15px !important;}#bShareRecommDiv.b-slide{position:fixed;bottom:10px;top:auto;margin-top:0px !important;}";/MSIE 6/.test(navigator.userAgent)&&(k+="*html #bShareRecommDiv.b-slide{position:absolute;bottom:auto;top:expression(eval(-10+document.documentElement.scrollTop+document.documentElement.clientHeight-this.offsetHeight-(parseInt(this.currentStyle.marginTop,10)||0)-(parseInt(this.currentStyle.marginBottom,10)||0)));}");
k+="#bShareRecommDiv.b-slide.b-left{left:0;}#bShareRecommDiv.b-slide.b-right{right:0px !important;}.b-slide.b-right .b-recomm-tab li{float:left;}.b-slide.b-"+d+" .recommSlideTag{display:none;margin:0 !important;padding:0 0 4px !important;border:1px solid #c2c2c2;position:absolute;width:23px;"+f+":1px;top:27px;cursor:pointer;text-align:center;line-height:17px;color:#444;background:-webkit-gradient(linear,0% 20%,0% 90%,from(#f4f4f4),to(#d7d7d7));background:-moz-linear-gradient(top,#f4f4f4,#d7d7d7);filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0,StartColorStr='#f4f4f4',EndColorStr='#d7d7d7');_background:#e4e4e4;}";
j=k;c=v("style");c.type="text/css";c.styleSheet?c.styleSheet.cssText=j:c.appendChild(o.createTextNode(j));o.getElementsByTagName("head")[0].appendChild(c);j=p("bShareRecommTab");d=p("bShareRecommDiv2");c="";j||(j=v("ul","bShareRecommTab","b-recomm-tab"),d.insertBefore(j,d.firstChild));d=J(e,"div","b-recomm-panel");b=H;for(g=0;g<b;++g)i=d[g].sourceType,h=V[i],c+="<li "+(A===i?'class="activated" ':"")+"onclick=\"window.lezhi.switchTo(this,'"+d[g].sourceType+"');\">",c+=i=="insite"?a.promote:h,c+="</li>",
A===i&&(h=d[g],z(h,"activated")||(h.className+=" activated")),g==0&&a.type==="fixed"&&E(i);b===0?e.style.display="none":(j.style.visibility=d.length===1&&a.type==="slide"&&d[0].sourceType=="insite"?"hidden":"visible",j.innerHTML=c);j=a.col;i=a.pic;c=0;g=p("bShareRecommDiv2");d=e.style.width?parseInt(e.style.width):600;if(i)a.type=="slide"&&(c=25),e.style.width=d+c+"px";else{a.type=="slide"&&(c=25);e.style.width=g.style.width=d+c+"px";i=d-2;b=J(e,"div","b-recomm-panel");f=b.length;for(h=0;h<f;h++)b[h].style.width=
i+"px"}var t;b=e.getElementsByTagName("div");f=parseInt(e.style.width);for(i=0;i<b.length;++i)if(h=b[i],z(h,"b-recomm-panel")&&z(h,"activated")){t=h;break}if(t){if(a.pic)t.style.width=g.offsetWidth-c-2<0?"":g.offsetWidth-c-2+"px";g=a.pic?"auto":f-2;g=a.type=="fixed"?g:g-30;t=t.getElementsByTagName("li");for(i=0;i<t.length;++i)b=t[i],a.pic?(a.type=="slide"&&(c=0),b.style.width=(d-c-10)/j-2+"px"):(i<2?(b.style.width=(a.col==1?g-(i==t.length-1?50:20):g/2-15)/2+"px",b.style.height="auto"):b.style.width=
(a.col==1?g-(i==t.length-1?50:20):g/2-15)+"px",b.style.textAlign="left")}Q(e)}};lz.init()})();
